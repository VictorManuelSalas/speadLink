<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>SpeadLink | Dashboard</title>
    <link rel="stylesheet" href="../style.css" />
  </head>
  <body>
    <header>
      <h1>ðŸ“Š SpeadLink Dashboard</h1>
    </header>

    <main>
      <!-- CLIENTES -->
      <section>
        <h2>ðŸ‘¤ Clientes</h2>
        <button onclick="openModal('customer')">Crear Cliente</button>
        <button onclick="getCustomers()">Cargar Clientes</button>
        <div id="customersList" class="cards"></div>
      </section>

      <!-- FACTURAS -->
      <section>
        <h2>ðŸ§¾ Facturas</h2>

        <div class="filters">
          <input
            type="text"
            id="clientIdInput"
            placeholder="Client ID (opcional)"
          />
          <button onclick="getInvoices()">Cargar Facturas</button>

          <button onclick="openModal('invoice')">Nueva Factura</button>
        </div>

        <table>
          <thead>
            <tr>
              <th>#</th>
              <th>Cliente</th>
              <th>Status</th>
              <th>Mes</th>
              <th>Fecha Limite</th>
              <th>Total</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="invoicesTable"></tbody>
          <tfoot id="invoiceCount">
            
          </tfoot>
        </table>
      </section>
    </main>
    <!-- MODAL BACKDROP -->
    <div id="modalBackdrop" class="modal-backdrop hidden"></div>

    <!-- MODAL CLIENTE -->
    <div id="modalCustomer" class="modal hidden">
      <h3>âž• Crear Cliente</h3>
      <div>
        <select class="options" id="c_status">
          <option value="Processed">Processed</option>
          <option value="Agendado">Agendado</option>
          <option value="Inactive">Inactive</option>
        </select>

        <input id="c_name" placeholder="Nombre" />
        <input id="c_email" placeholder="Correo" />
        <input id="c_phone" placeholder="TelÃ©fono" />
        <select class="options" id="c_plan">
          <option value="Basico">Basico</option>
          <option value="Intermedio">Intermedio</option>
          <option value="Custom">Custom</option>
        </select>

        <input id="c_megas" type="number" placeholder="Megas" />
        <input id="c_date" type="date" />

        <span
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <h4>ðŸ§© Servicios</h4>
          <button
            onclick="addNewService()"
            style="height: fit-content; padding: 10px 20px"
          >
            +
          </button>
        </span>

        <div id="servicesContainer"></div>
      </div>

      <div class="modal-actions">
        <button onclick="closeModal()">Cancelar</button>
        <button class="primary" onclick="submitCustomer()">Guardar</button>
      </div>
    </div>

    <!-- MODAL FACTURA -->
    <div id="modalInvoice" class="modal hidden">
      <h3>ðŸ§¾ Crear Factura</h3>

      <div>
        <div id="invoiceForm"></div>
        <input id="i_dia_instalacion" type="date" />

        <select class="options" id="i_plan">
          <option value="Basico">Basico</option>
          <option value="Intermedio">Intermedio</option>
          <option value="Custom">Custom</option>
        </select>
        <input id="i_megas" placeholder="Megas (ej: 10mbts)" />
        <input id="i_precio" type="number" placeholder="Precio" />

        <label class="checkbox">
          <label for="i_pagado">Pagado</label>
          <input
            style="width: fit-content"
            id="i_pagado"
            type="checkbox"
            placeholder="Pagado"
          />
        </label>
      </div>

      <div class="modal-actions">
        <button onclick="closeModal()">Cancelar</button>
        <button class="primary" onclick="submitInvoice()">Crear</button>
      </div>
    </div>

    <script src="./script.js"></script>
  </body>
</html>
